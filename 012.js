// The sequence of triangle numbers is generated by adding the natural numbers.So the 7th triangle number would be
// 1 + 2 + 3 + 4 + 5 + 6 + 7 = 28. The first ten terms would be:
// 1, 3, 6, 10, 15, 21, 28, 36, 45, 55, ...

// Let us list the factors of the first seven triangle numbers:

// 1: 1
// 3: 1, 3
// 6: 1, 2, 3, 6
// 10: 1, 2, 5, 10
// 15: 1, 3, 5, 15
// 21: 1, 3, 7, 21
// 28: 1, 2, 4, 7, 14, 28

// We can see that 28 is the first triangle number to have over five divisors.
// What is the value of the first triangle number to have over five hundred divisors ?

function triangleOf(number) {
  sum = 0;
  for(let i = 1; i <= number; i++) {
    sum += i;
  }
  return sum;
}

let divisibleBy = [];
let i = 1;
let found = false;
let target = 500;

while(found == false) {
  current = triangleOf(i);
  divisibleBy.push(1, current)
  for(let j = 2; j <= Math.ceil(Math.sqrt(current)); j++) {
    if(divisibleBy.indexOf(j) < 0 && j !== current / j) {
      if(current % j === 0) {
        divisibleBy.push(j, current / j);
        if(divisibleBy.length > target) {
          console.log(i+"th ->", current+" ->", divisibleBy.length);
          found = true;
          break;
        }
      }
    }
  }
  divisibleBy = []
  i++;
}